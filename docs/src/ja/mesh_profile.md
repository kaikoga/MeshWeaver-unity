# MeshProfile

## MeshProfileとは？

MeshWeaverが出力するメッシュアセットやプレハブアセットに対する共通設定を行うためには、MeshBehaviourに**MeshProfile（メッシュプロフィール／基本設定）**を設定します。
MeshProfileを切り替えることで、コライダーやライトマップを利用するかどうかが切り替わります。

## 標準のMeshProfile

### Default-Static-Large

デフォルトの設定です。
建築物や大きな家具、地形など、大きなオブジェクトを作るのに最適な設定です。
コライダーとライトマップが設定され、全てのStaticが設定されます。

### Default-Static-Medium

小さな家具など、ライトマップが不要な作り付けの中サイズなオブジェクトを作るのに最適な設定です。
コライダーは設定されますが、ライトマップは設定されず、ライトプローブによるライティングが適用されます。
一部のStaticが設定されます。

### Default-Static-Small

装飾的な小物オブジェクトを作るのに最適な設定です。
コライダーとライトマップは設定されません。
一部のStaticが設定されます。

### Default-Dynamic

持ち運び可能なオブジェクトを作るのに最適な設定です。
コライダーとライトマップは設定されず、Staticは一切設定されません。

### まとめると

| Profile               | オブジェクトサイズ | コライダー | ライトマップ | Static |
| --------------------- | ------------------ | ---------- | ------------ | ------ |
| Default-Static-Large  | 30cm以上           | 生成する   | 生成する     | 全て   |
| Default-Static-Medium | 30cm〜1m程度まで   | 生成する   | なし         | 一部   |
| Default-Static-Small  | 30cm以下           | なし       | なし         | 一部   |
| Default-Dynamic       | ピックアップ       | なし       | なし         | なし   |

オブジェクトサイズの数字は一つの目安であり、例えばライティング表現を改善するために、全ての静的なオブジェクトをStatic-Largeに設定することもできます。

（もっとも、高いクオリティの見た目の表現を追求する場合は、専用の3Dモデリングソフトを使うことになるかと思います。）

## リアルタイムモデリング中の制限

MeshProfileの設定にかかわらず、Unityエディタ上でリアルタイムにモデリングを行っている間はライトマップなどの一部機能は無効化されます。
また、MeshBehaviourがリアルタイムで生成するメッシュはシーンに保存され、随時上書きされます。
このため、MeshBehaviourを直接ライトベイクすることはお勧めしません。

ライトマップやStatic設定はMeshBehaviourExporterがメッシュアセットやプレハブアセットを出力する際に反映されます。